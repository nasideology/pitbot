<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>–ü–∏—Ç–ë–æ—Ç - —Ä–∞—Å—á—ë—Ç</title>
  <style>
    body{font-family:Arial;background:#f7f7f7;padding:20px}
    input{width:100%;padding:8px;margin:6px 0}
    button{width:100%;padding:10px;background:#ff6b00;color:#fff;border:0;border-radius:6px}
    #result{margin-top:15px;font-weight:bold}
  </style>
</head>
<body>
  <h3>–†–∞—Å—Å—á–∏—Ç–∞—é –≤–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ 3 —Å–µ–∫—É–Ω–¥—ã</h3>
  <input id="weight" type="number" placeholder="–¢–µ–∫—É—â–∏–π –≤–µ—Å, –∫–≥">
  <input id="target" type="number" placeholder="–ñ–µ–ª–∞–µ–º—ã–π –≤–µ—Å, –∫–≥">
  <button onclick="calc()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  <div id="result"></div>

  <script>
  function calc(){
  const w = +document.getElementById('weight').value;
  const t = +document.getElementById('target').value;
  const goal = document.getElementById('goal').value;   // "lose" –∏–ª–∏ "gain"
  const kg = Math.abs(w - t);
  // 1. TDEE (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
  const tdee = (w * 24 + 200) * 1.4;          // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ç–æ—á–Ω—ã–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
  // 2. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ü–µ–ª–∏
  const factor = goal === 'lose' ? 0.8 : 1.15;   // lose = -20 %, gain = +15 %
  // 3. –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç/–ø—Ä–æ—Ñ–∏—Ü–∏—Ç
  const dailyDelta = tdee * (factor - 1);      // –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –¥–ª—è lose, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –¥–ª—è gain
  // 4. –î–Ω–∏ –∏ –∫–∞–ª–æ—Ä–∏–∏
  const days = Math.round(kg * 7700 / Math.abs(dailyDelta));
  const kcal = Math.round(tdee * factor);
  document.getElementById('result').innerText =
    `üìÜ ${days} –¥–Ω–µ–π –¥–æ —Ü–µ–ª–∏\nüî• ${kcal} –∫–∫–∞–ª/–¥–µ–Ω—å`;
  Telegram.WebApp.sendData(JSON.stringify({days,kcal,weight:w,target:t}));
  }
  </script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</body>
</html>
